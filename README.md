# AKS and SQL in containers

This repo demonstrates running [Microsoft SQL Server](https://learn.microsoft.com/en-us/sql/sql-server/) in containers for applications running inside of [Azure Kubernetes Service](https://learn.microsoft.com/en-us/azure/aks/).

## Description

The repository deploys via GitHub Actions all Azure resources required to deploy an AKS cluster and install via helm 2 instances of SQL Server, one running with the default UTC timezone and the other in Europe/Amsterdam timezone.

A sample application is also included that displays datetime generated by the application and queried from both database instances and using the [AT TIME ZONE](https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql) function to convert to EST and CET timezones.

## References

- https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-deployment
- https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-containers-deploy-helm-charts-kubernetes
- https://learn.microsoft.com/en-us/answers/questions/687945/setting-timezone-when-creating-sql-server-containe.html
